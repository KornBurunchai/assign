<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Carousel with Modal</title>
    <!-- font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anuphan:wght@100..700&display=swap" rel="stylesheet">
    <!-- font -->

    <!-- SweetAlert -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/index.css">

<body>
    <header>

        <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0"
                    class="active"></button>
                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"></button>
                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"></button>
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="img/caru5.png" class="d-block w-100" alt="Slide 1">
                </div>
                <div class="carousel-item">
                    <img src="img/17282910273611.png" class="d-block w-100" alt="Slide 2">
                </div>
                <div class="carousel-item">
                    <img src="img/27282888446912.png" class="d-block w-100" alt="Slide 3">
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
                data-bs-slide="prev">
                <span class="carousel-control-prev-icon"></span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
                data-bs-slide="next">
                <span class="carousel-control-next-icon"></span>
            </button>

        </div>


    </header>
    <section class="navbar">
        <ul>
            <li><a href="index.html">หน้าหลัก</a></li>
            <li><a href="html/product.html">สินค้า</a></li>
            <li><a href="html/cart.html">ตะกร้าสินค้า</a></li>
            <li><a href="html/shipping.html">ชำระเงิน</a></li>
        </ul>
    </section>

    <section class="products">
        <h2>สินค้าแนะนำ</h2>
        <div class="product-grid">
            <div class="product">
                <label for="modal1">
                    <img src="img/sk2.png" alt="สินค้า 1">
                    <h3>SK-II Facial Treatment Essence 30ml</h3>
                </label>
                <p class="price">฿599</p> <!-- เพิ่มราคาสินค้า -->
                <div class="cart-icon">
                    <a href="html/cart.html" class="add-to-cart-btn" >
                        <img src="img/basket-shopping-simple.png" alt="Add to Cart"> <!-- เพิ่มไอคอนตะกร้า -->
                    </a>
                </div>
            </div>
            <div class="product">
                <label for="modal2">
                    <img src="img/SKINTIFIC MSH Niacinamide Brightening Moisture Gel 80g.jpg" alt="สินค้า 1">
                    <h3>SKINTIFIC MSH Niacinamide Brightening Moisture Gel 80g</h3>
                </label>
                <p class="price">฿399</p> <!-- เพิ่มราคาสินค้า -->
                <div class="cart-icon">
                    <a href="html/cart.html" class="add-to-cart-btn">
                        <img src="img/basket-shopping-simple.png" alt="Add to Cart"> <!-- เพิ่มไอคอนตะกร้า -->
                    </a>
                </div>
            </div>
            <div class="product">
                <label for="modal3">
                    <img src="img/Garnier Bright Complete Booster Serum 30ml.jpg" alt="สินค้า 1">
                    <h3>Garnier Bright Complete Booster Serum 30ml</h3>
                </label>
                <p class="price">฿429</p> <!-- เพิ่มราคาสินค้า -->
                <div class="cart-icon">
                    <a href="html/cart.html" class="add-to-cart-btn">
                        <img src="img/basket-shopping-simple.png" alt="Add to Cart"> <!-- เพิ่มไอคอนตะกร้า -->
                    </a>
                </div>
            </div>
            <div class="product">
                <label for="modal4">
                    <img src="img/user.png" alt="สินค้า 1">
                    <h3>Eucerin Spotless Brightening Skin Tone Perfecting Body Lotion 250ml</h3>
                </label>
                <p class="price">฿590</p> <!-- เพิ่มราคาสินค้า -->
                <div class="cart-icon">
                    <a href="html/cart.html" class="add-to-cart-btn">
                        <img src="img/basket-shopping-simple.png" alt="Add to Cart"> <!-- เพิ่มไอคอนตะกร้า -->
                    </a>
                </div>
            </div>

        </div>

    </section>

    <!-- Modal รายละเอียดสินค้า -->
    <input type="checkbox" id="modal1" class="modal-toggle">
    <div class="modal">
        <div class="modal-content">
            <label for="modal1" class="close">&times;</label>
            <section class="modal-img">
                <img src="img/sk2.png" alt="สินค้า 1" style="max-width: 250px; max-height: 450px;">
            </section>
            <section class="details">

                <h2>SK-II Facial Treatment Essence 30ml</h2>
                <p>รหัสสินค้า : 12345</p>
                <p>ต้นกำเนิด : ออสเตรเลีย</p>
                <p>ผลลัพธ์ : เพิ่มความขุ่มชื้น</p>
                <p>ปริมาณ : 250ml</p>
                <p>เพศ : Female/Unisex</p>
                <p>ประเภทผิว : ผิวธรรมดา/ทุกสภาพผิว</p>
                <p class="price">฿599</p>
                <section class="details-buttom">         
                    <div class="icon">
                        <a href="html/cart.html" class="add-to-cart-mode">
                            <img src="img/basket-shopping-simple.png" alt="Add to Cart"> <!-- เพิ่มไอคอนตะกร้า -->
                        </a>
                    </div>
                </section>
            </section>
        </div>
    </div>


    <input type="checkbox" id="modal1" class="modal-toggle">
    <div class="modal">
        <div class="modal-content">
            <label for="modal1" class="close">&times;</label>
            <section class="modal-img">
                <img src="img/sk2.png" alt="สินค้า 1" style="max-width: 250px; max-height: 450px;">
            </section>
            <section class="details">
                <h2 style="font-size:18px;">SK II</h2>
                <p>รหัสสินค้า : 12345</p>
                <p>ต้นกำเนิด : ออสเตรเลีย</p>
                <p>ผลลัพธ์ : เพิ่มความขุ่มชื้น</p>
                <p>ปริมาณ : 250ml</p>
                <p>เพศ : Female/Unisex</p>
                <p>ประเภทผิว : ผิวธรรมดา/ทุกสภาพผิว</p>
                <p class="price">฿599</p>
                <section class="details-buttom">
                    <div class="icon">
                        <a href="html/cart.html" class="add-to-cart-mode">
                            <img src="img/basket-shopping-simple.png" alt="Add to Cart"> <!-- เพิ่มไอคอนตะกร้า -->
                        </a>
                    </div>
                </section>
            </section>
        </div>
    </div>

    <input type="checkbox" id="modal2" class="modal-toggle">
    <div class="modal">
        <div class="modal-content">
            <label for="modal2" class="close">&times;</label>
            <section class="modal-img">
                <img src="img/SKINTIFIC MSH Niacinamide Brightening Moisture Gel 80g.jpg" alt="สินค้า 1"
                    style="max-width: 250px; max-height: 450px;">
            </section>
            <section class="details">

                <h2>SKINTIFIC MSH Niacinamide Brightening Moisture Gel</h2>
                <p>รหัสสินค้า : 96475</p>
                <p>ต้นกำเนิด : จีน</p>
                <p>ผลลัพธ์ : ไวท์เทนนิ่ง, มอยเจอร์ไรเซอร์</p>
                <p>ปริมาณ : 80g</p>
                <p>เพศ : Female/Unisex</p>
                <p>ประเภทผิว : ผิวธรรมดา/ ทุกสภาพผิว</p>
                <p class="price">฿399</p>
                <section class="details-buttom">
                    <div class="icon">
                        <a href="html/cart.html" class="add-to-cart-mode">
                            <img src="img/basket-shopping-simple.png" alt="Add to Cart"> <!-- เพิ่มไอคอนตะกร้า -->
                        </a>
                    </div>
                </section>
            </section>
        </div>
    </div>

    <input type="checkbox" id="modal3" class="modal-toggle">
    <div class="modal">
        <div class="modal-content">
            <label for="modal3" class="close">&times;</label>
            <section class="modal-img">
                <img src="img/Garnier Bright Complete Booster Serum 30ml.jpg" alt="สินค้า 1"
                    style="max-width: 250px; max-height: 450px;">
            </section>
            <section class="details">

                <h2 style="font-size: 18px;">Garnier Bright Complete Booster Serum</h2>
                <p>รหัสสินค้า : 62928</p>
                <p>ต้นกำเนิด : ฝรั่งเศส</p>
                <p>ผลลัพธ์ : ลดเลือนจุดด่างดำ, ไวท์เทนนิ่ง</p>
                <p>ปริมาณ : 30ml</p>
                <p>เพศ : Female/Unisex</p>
                <p>ประเภทผิว : ผิวธรรมดา/ทุกสภาพผิว</p>
                <p class="price">฿429</p>
                <section class="details-buttom">
                    <div class="icon">
                        <a href="html/cart.html" class="add-to-cart-mode">
                            <img src="img/basket-shopping-simple.png" alt="Add to Cart"> <!-- เพิ่มไอคอนตะกร้า -->
                        </a>
                    </div>
                </section>
            </section>
        </div>
    </div>

    <input type="checkbox" id="modal4" class="modal-toggle">
    <div class="modal">
        <div class="modal-content">
            <label for="modal4" class="close">&times;</label>
            <section class="modal-img">
                <img src="img/user.png" alt="สินค้า 1" style="max-width: 250px; max-height: 450px;">
            </section>
            <section class="details">

                <h2 style="font-size: 18px;">Eucerin Spotless Brightening Skin Tone Perfecting Body Lotion</h2>
                <p>รหัสสินค้า : 12345</p>
                <p>ต้นกำเนิด : เยอรมัน</p>
                <p>ผลลัพธ์ : เติมความชุ่มชื่น, ฟื้นฟูสภาพผิว, ลดเลือนจุดด่างดำ</p>
                <p>ปริมาณ : 250ml</p>
                <p>เพศ : Female/Unisex</p>
                <p>ประเภทผิว : ผิวธรรมดา/ ทุกสภาพผิว</p>
                <p class="price">฿590</p>
                <section class="details-buttom">

                    <div class="icon">
                        <a href="html/cart.html" class="add-to-cart-mode">
                            <img src="img/basket-shopping-simple.png" alt="Add to Cart"> <!-- เพิ่มไอคอนตะกร้า -->
                        </a>
                    </div>
                </section>
            </section>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.js"></script>
    <script>
        document.querySelectorAll('.add-to-cart-btn').forEach(function (button) {
            button.addEventListener('click', function (e) {
                e.preventDefault();

                let productElement = this.closest('.product');
                let productName = productElement.querySelector('h3').textContent;
                let productPrice = parseFloat(productElement.querySelector('.price').textContent.replace('฿', ''));
                let productImage = productElement.querySelector('img').src;

                let product = {
                    name: productName,
                    price: productPrice,
                    image: productImage,
                    quantity: 1
                };

                let cart = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart')) : [];

                let existingProduct = cart.find(item => item.name === product.name);

                if (existingProduct) {
                    existingProduct.quantity += 1;
                } else {
                    cart.push(product);
                }

                localStorage.setItem('cart', JSON.stringify(cart));

                // แสดง SweetAlert เมื่อสินค้าถูกเพิ่มลงในตะกร้า
                Swal.fire({
                    title: 'เพิ่มลงในตะกร้า!',
                    text: `${productName} ถูกเพิ่มลงในตะกร้าเรียบร้อยแล้ว`,
                    icon: 'success',
                    showConfirmButton: false,
                    timer: 1500
                });


            });
        });

    </script>
    <script>
        document.querySelectorAll('.add-to-cart-mode').forEach(function (button) {
            button.addEventListener('click', function (e) {
                e.preventDefault();

                let productElement = this.closest('.modal-content');
                let productName = productElement.querySelector('h2').textContent;
                let productPrice = parseFloat(productElement.querySelector('.price').textContent.replace('฿', ''));
                let productImage = productElement.querySelector('img').src;

                let product = {
                    name: productName,
                    price: productPrice,
                    image: productImage,
                    quantity: 1
                };

                let cart = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart')) : [];

                let existingProduct = cart.find(item => item.name === product.name);

                if (existingProduct) {
                    existingProduct.quantity += 1;
                } else {
                    cart.push(product);
                }

                localStorage.setItem('cart', JSON.stringify(cart));

                // SweetAlert สินค้าถูกเพิ่มลงในตะกร้า
                Swal.fire({
                    title: 'เพิ่มลงในตะกร้า!',
                    text: `${productName} ถูกเพิ่มลงในตะกร้าเรียบร้อยแล้ว`,
                    icon: 'success',
                    showConfirmButton: false,
                    timer: 1500
                });

            });
        });

    </script>


    <footer>
        <p>&copy; 2024 ร้านค้าออนไลน์. สงวนลิขสิทธิ์.</p>
    </footer>
</body>

</html>